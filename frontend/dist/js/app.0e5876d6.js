(function(e){function t(t){for(var r,s,i=t[0],c=t[1],l=t[2],d=0,p=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},o=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-app-bar",{staticClass:"align-centre",attrs:{app:"",color:"blue-grey lighten-1"}},[n("v-row",{staticClass:"justify-space-between"},[n("v-col",{attrs:{cols:"1"}},[n("div",{staticClass:"d-flex",on:{click:e.downloadItem}},[n("img",{staticClass:"shrink mr-2",attrs:{src:"favicon-"+e.host+".ico",alt:"identicon",width:"40"}})])]),n("v-col",{staticClass:"d-flex justify-space-around",attrs:{cols:"3"}},[n("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({attrs:{color:"primary",dark:""}},"v-btn",a,!1),r),[e._v("\n              "+e._s(e.settings.cluster)+"\n            ")])]}}])},[n("v-list",e._l(e.settings.clusters,(function(t,r){return n("v-list-item",{key:r},[n("v-list-item-title",[n("a",{attrs:{href:"https://"+t}},[e._v(e._s(t))])])],1)})),1)],1)],1),n("v-col",{staticStyle:{"text-align":"right"},attrs:{cols:"1"}},[n("v-btn",{attrs:{href:"https://github.com/doddle/lander",target:"_blank",text:""}},[n("span",{staticClass:"mr-2"}),n("v-icon",[e._v("mdi-open-in-new")])],1)],1)],1)],1),n("v-main",[n("v-container",[n("v-row",{attrs:{"no-gutters":"","align-content":"center",justify:"center"}},[e._l(e.pieChartList,(function(e){return n("v-col",{key:e.name,attrs:{sm:"3",md:"3"}},[n(e.content,{tag:"component"})],1)}))],2)],1),[n("v-container",{attrs:{fluid:""}},[n("v-toolbar",{attrs:{color:e.settings.colorscheme,tabs:""}},[n("v-tabs",{attrs:{"slider-color":"grey",centered:""},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},e._l(e.tabList,(function(t){return n("v-tab",{key:t.tabName,attrs:{disabled:e.isDisabled},on:{click:function(n){return n.preventDefault(),e.setActiveTabName(t.tabName)}}},[e._v("\n              "+e._s(t.tabName)+"\n            ")])})),1)],1)],1)],[n("v-container",{attrs:{fluid:""}},[n("v-tabs-items",{model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},e._l(e.tabList,(function(t){return n("v-tab-item",{key:t.tab},[n("v-card",{attrs:{flat:""}},[e.blaTabName===t.tabName?n("v-card-text",[n(t.content,{tag:"component"})],1):e._e()],1)],1)})),1)],1)]],2)],1)},o=[],s=n("1da1"),i=(n("96cf"),n("ac1f"),n("1276"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list",e._l(e.stacks,(function(t){return n("v-list-item",{key:t.title,attrs:{href:t.address}},[n("v-list-item-icon",[t.oauth2proxy?n("v-icon",{attrs:{color:"green"}},[e._v("\n        mdi-account-lock\n      ")]):e._e()],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s(t.name)}}),n("v-list-item-subtitle",{domProps:{innerHTML:e._s(t.address+" - "+t.description)}})],1),n("v-list-item-avatar",[n("v-img",{attrs:{src:/assets/+t.icon}})],1)],1)})),1)}),c=[],l={name:"ClusterLinks",data:function(){return{stacks:[{address:"https://mycluster.com/alerts",class:"nginx",description:"something",icon:"prometheus.png",oauth2proxy:!0}]}},methods:{getEndpoints:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n="/v1/endpoints",console.debug("retrieving: "+n),t.next=5,fetch(n);case 5:return r=t.sent,t.next=8,r.json();case 8:e.stacks=t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}},cron:{time:15e3,method:"getEndpoints",autoStart:!0},beforeMount:function(){this.getEndpoints()}},u=l,d=n("2877"),p=n("6544"),v=n.n(p),f=n("132d"),m=n("adda"),h=n("8860"),b=n("da13"),g=n("8270"),x=n("5d23"),y=n("34c3"),w=Object(d["a"])(u,i,c,!1,null,null,null),k=w.exports;v()(w,{VIcon:f["a"],VImg:m["a"],VList:h["a"],VListItem:b["a"],VListItemAvatar:g["a"],VListItemContent:x["a"],VListItemIcon:y["a"],VListItemSubtitle:x["b"],VListItemTitle:x["c"]});var _=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-card",{attrs:{flat:""}},[n("v-card-title",[e._v("Deployments")]),n("v-card-subtitle",[e._v("total: "+e._s(e.total))]),n("apexcharts",{attrs:{type:"pie",options:e.chartOptions,series:e.series}})],1)],1)},O=[],V=n("1321"),S=n.n(V),T={name:"Apex",components:{apexcharts:S.a},data:function(){return{chartOptions:{colors:[],chart:{id:"pie-deployments",dropShadow:{effect:!1}},legend:{position:"bottom"},labels:[]},series:[],total:0}},methods:{getPieDeploy:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n="/v1/pie/deployments",console.debug("retrieving: "+n),t.next=5,fetch(n);case 5:return r=t.sent,t.next=8,r.json();case 8:a=t.sent,e.colors=a.colors,e.chartOptions=a.chartOptions,e.series=a.series,e.total=a.total,t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),console.error(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()}},cron:{time:1e4,method:"getPieDeploy",autoStart:!0},beforeMount:function(){this.getPieDeploy()}},N=T,j=n("b0af"),C=n("99d9"),P=Object(d["a"])(N,_,O,!1,null,null,null),L=P.exports;v()(P,{VCard:j["a"],VCardSubtitle:C["a"],VCardTitle:C["c"]});var R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-card",{attrs:{flat:""}},[n("v-card-title",[e._v("Nodes")]),n("v-card-subtitle",[e._v("total: "+e._s(e.total))]),n("apexcharts",{attrs:{type:"pie",options:e.chartOptions,series:e.series}})],1)],1)},I=[],A={name:"OverviewPieNodes",components:{apexcharts:S.a},data:function(){return{chartOptions:{stroke:{width:0},theme:{palette:"pallet3"},colors:[],chart:{id:"pie-nodes",dropShadow:{effect:!1}},legend:{position:"bottom"},labels:[]},series:[],total:0}},methods:{getPieNodes:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n="/v1/pie/nodes",console.debug("retrieving: "+n),t.next=5,fetch(n);case 5:return r=t.sent,t.next=8,r.json();case 8:a=t.sent,e.chartOptions=a.chartOptions,e.series=a.series,e.total=a.total,t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),console.error(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))()}},cron:{time:1e4,method:"getPieNodes",autoStart:!0},beforeMount:function(){this.getPieNodes()}},E=A,M=Object(d["a"])(E,R,I,!1,null,null,null),D=M.exports;v()(M,{VCard:j["a"],VCardSubtitle:C["a"],VCardTitle:C["c"]});var $=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-card",{attrs:{flat:""}},[n("v-card-title",[e._v("StatefulSets")]),n("v-card-subtitle",[e._v("total: "+e._s(e.total))]),n("apexcharts",{attrs:{type:"pie",options:e.chartOptions,series:e.series}})],1)],1)},F=[],B={name:"Apex",components:{apexcharts:S.a},data:function(){return{chartOptions:{colors:[],chart:{id:"pie-statefulsets",dropShadow:{effect:!1}},legend:{position:"bottom"},labels:[]},series:[],total:0}},methods:{getPieStatefulSets:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n="/v1/pie/statefulsets",console.debug("retrieving: "+n),t.next=5,fetch(n);case 5:return r=t.sent,t.next=8,r.json();case 8:a=t.sent,e.colors=a.colors,e.chartOptions=a.chartOptions,e.series=a.series,e.total=a.total,t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),console.error(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()}},cron:{time:1e4,method:"getPieStatefulSets",autoStart:!0},beforeMount:function(){this.getPieStatefulSets()}},U=B,G=Object(d["a"])(U,$,F,!1,null,null,null),H=G.exports;v()(G,{VCard:j["a"],VCardSubtitle:C["a"],VCardTitle:C["c"]});var J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"mx-auto"},[n("v-card-title",[n("v-spacer"),n("v-text-field",{attrs:{"append-icon":"mdi-magnify","hide-details":"",label:"Filter nodes","single-line":""},model:{value:e.searchProp,callback:function(t){e.searchProp=t},expression:"searchProp"}})],1),n("v-data-table",{attrs:{dense:!0,headers:e.headers,"items-per-page":25,items:e.nodes,loading:e.loading,search:e.searchProp,"sort-by":"age"},scopedSlots:e._u([{key:"item.age",fn:function(t){var n=t.item;return[e._v("\n      "+e._s(e.convertSeconds(n.age))+"\n    ")]}},{key:"item.ready",fn:function(t){var r=t.item;return[n("v-chip",{attrs:{color:e.markTrueGood(r.ready),dark:""}},[e._v("\n        "+e._s(r.ready)+"\n      ")])]}},{key:"item.schedulable",fn:function(t){var r=t.item;return[n("v-chip",{attrs:{color:e.markTrueGood(r.schedulable),dark:""}},[e._v("\n        "+e._s(r.schedulable)+"\n      ")])]}}])})],1)},q=[],z=(n("b680"),{name:"TableNodes",data:function(){return{searchProp:"",loading:!0,isActive:null,nodes:[],headers:[{text:"Name",align:"start",value:"name"},{text:"ready",value:"true"},{sortable:!0,text:"age",value:"age"}]}},methods:{getNodes:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,n="/v1/table/nodes",console.debug("retrieving: "+n),t.next=6,fetch(n);case 6:return r=t.sent,t.next=9,r.json();case 9:a=t.sent,e.nodes=a.nodes,e.headers=a.headers,e.loading=!1,t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),console.error(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()},convertSeconds:function(e){var t=e.toFixed(1),n=(e/60).toFixed(1),r=(e/3600).toFixed(1),a=(e/86400).toFixed(1);return t<60?t+"s":n<60?n+"m":r<24?r+"h":a+"d"},markTrueGood:function(e){return console.log(e),!0===e?"green":"red"}},cron:{time:5e3,method:"getNodes"},mounted:function(){this.getNodes()}}),K=z,Q=n("cc20"),W=n("8fea"),X=n("2fa4"),Y=n("8654"),Z=Object(d["a"])(K,J,q,!1,null,null,null),ee=Z.exports;v()(Z,{VCard:j["a"],VCardTitle:C["c"],VChip:Q["a"],VDataTable:W["a"],VSpacer:X["a"],VTextField:Y["a"]});var te=n("bc3a"),ne=n.n(te),re={name:"App",data:function(){var e=location.host,t=e.split(":")[0];return{activeTabName:null,isDisabled:null,tabList:[{tabName:"links",content:k},{tabName:"nodes",content:ee}],blaTabName:"links",pieChartList:[{name:"Deployments",content:L},{name:"StatefulSets",content:H},{name:"Nodes",content:D}],host:t,settings:{colorscheme:"blue lighten-5",cluster:"unknown",clusters:["cluster1.acmecorp.org"]}}},title:function(){return"".concat(this.host)},mounted:function(){this.activeTabName=this.tabList[0].tabName},methods:{setActiveTabName:function(e){console.log("setActiveTabName: "+e),this.blaTabName=e},displayContents:function(e){return this.activeTabName===e},getSettings:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n="/v1/settings",console.debug("retrieving: "+n),t.next=5,fetch(n);case 5:return r=t.sent,t.next=8,r.json();case 8:e.settings=t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},downloadItem:function(){var e="favicon-"+this.settings.cluster+".png";console.debug("downloadItem: "+e),ne.a.get(e,{responseType:"blob"}).then((function(t){var n=new Blob([t.data],{type:"image/png"}),r=document.createElement("a");r.href=URL.createObjectURL(n),r.download=e,r.click(),URL.revokeObjectURL(r.href)})).catch(console.error)}},beforeMount:function(){this.getSettings()},components:{OverviewPieDeployments:L,OverviewPieStatefulSets:H,OverviewPieNodes:D,TableNodes:ee,ClusterLinks:k}},ae=re,oe=n("7496"),se=n("40dc"),ie=n("8336"),ce=n("62ad"),le=n("a523"),ue=n("f6c4"),de=n("e449"),pe=n("0fd9"),ve=n("71a3"),fe=n("c671"),me=n("fe57"),he=n("aac8"),be=n("71d9"),ge=Object(d["a"])(ae,a,o,!1,null,null,null),xe=ge.exports;v()(ge,{VApp:oe["a"],VAppBar:se["a"],VBtn:ie["a"],VCard:j["a"],VCardText:C["b"],VCol:ce["a"],VContainer:le["a"],VIcon:f["a"],VList:h["a"],VListItem:b["a"],VListItemTitle:x["c"],VMain:ue["a"],VMenu:de["a"],VRow:pe["a"],VTab:ve["a"],VTabItem:fe["a"],VTabs:me["a"],VTabsItems:he["a"],VToolbar:be["a"]});var ye=n("9483");Object(ye["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var we=n("8c4f"),ke=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},_e=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("img",{attrs:{alt:"favicon",src:"/favicon.ico"}})])}],Oe={name:"Home",data:function(){return{stacks:[]}},methods:{getStacks:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/v1/endpoints");case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,console.log("retrieving endpoints"),e.stacks=r,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}},cron:{time:15e3,method:"getStacks",autoStart:!0},mounted:function(){this.getStacks()}},Ve=Oe,Se=Object(d["a"])(Ve,ke,_e,!1,null,null,null),Te=Se.exports;r["a"].use(we["a"]);var Ne=[{path:"/",name:"Home",component:Te}],je=new we["a"]({mode:"history",base:"/",routes:Ne}),Ce=je,Pe=n("2f62");r["a"].use(Pe["a"]);var Le=new Pe["a"].Store({state:{},mutations:{},actions:{},modules:{}}),Re=n("646b"),Ie=n("f309");r["a"].use(Ie["a"]);var Ae=new Ie["a"]({theme:{themes:{light:{primary:"#673ab7",secondary:"#03a9f4",accent:"#9c27b0",error:"#f44336",warning:"#ffc107",info:"#cddc39",success:"#8bc34a"}}}});function Ee(e){var t=e.$options.title;if(t)return"function"===typeof t?t.call(e):t}var Me={created:function(){var e=Ee(this);e&&(document.title=e)}};r["a"].mixin(Me),r["a"].use(Re["a"]),r["a"].config.productionTip=!1,new r["a"]({router:Ce,store:Le,vuetify:Ae,render:function(e){return e(xe)}}).$mount("#app")}});
//# sourceMappingURL=app.0e5876d6.js.map